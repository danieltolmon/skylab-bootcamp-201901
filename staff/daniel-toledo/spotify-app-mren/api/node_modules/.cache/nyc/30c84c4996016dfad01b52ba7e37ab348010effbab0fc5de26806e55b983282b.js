'use strict';var cov_1z9a2zs4az=function(){var path="C:\\Users\\Supernova\\bootcamp\\collab\\skylab-bootcamp-201901\\staff\\daniel-toledo\\spotify-app-mren\\api\\src\\data\\users\\index.js";var hash="c6f95cbc0159f24191ff444e206d9fdbfc1eaf8d";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Supernova\\bootcamp\\collab\\skylab-bootcamp-201901\\staff\\daniel-toledo\\spotify-app-mren\\api\\src\\data\\users\\index.js",statementMap:{"0":{start:{line:3,column:21},end:{line:3,column:39}},"1":{start:{line:5,column:13},end:{line:70,column:1}},"2":{start:{line:10,column:8},end:{line:10,column:86}},"3":{start:{line:10,column:49},end:{line:10,column:86}},"4":{start:{line:11,column:8},end:{line:11,column:87}},"5":{start:{line:11,column:41},end:{line:11,column:87}},"6":{start:{line:13,column:8},end:{line:14,column:51}},"7":{start:{line:14,column:25},end:{line:14,column:50}},"8":{start:{line:19,column:8},end:{line:19,column:89}},"9":{start:{line:19,column:51},end:{line:19,column:89}},"10":{start:{line:20,column:8},end:{line:20,column:85}},"11":{start:{line:20,column:39},end:{line:20,column:85}},"12":{start:{line:22,column:8},end:{line:31,column:14}},"13":{start:{line:24,column:16},end:{line:24,column:38}},"14":{start:{line:24,column:27},end:{line:24,column:38}},"15":{start:{line:26,column:16},end:{line:26,column:45}},"16":{start:{line:28,column:16},end:{line:28,column:31}},"17":{start:{line:30,column:16},end:{line:30,column:27}},"18":{start:{line:36,column:8},end:{line:36,column:88}},"19":{start:{line:36,column:53},end:{line:36,column:88}},"20":{start:{line:37,column:8},end:{line:37,column:87}},"21":{start:{line:37,column:40},end:{line:37,column:87}},"22":{start:{line:39,column:8},end:{line:48,column:14}},"23":{start:{line:41,column:16},end:{line:41,column:38}},"24":{start:{line:41,column:27},end:{line:41,column:38}},"25":{start:{line:43,column:16},end:{line:43,column:45}},"26":{start:{line:45,column:16},end:{line:45,column:31}},"27":{start:{line:47,column:16},end:{line:47,column:27}},"28":{start:{line:53,column:8},end:{line:53,column:88}},"29":{start:{line:53,column:53},end:{line:53,column:88}},"30":{start:{line:54,column:8},end:{line:54,column:87}},"31":{start:{line:54,column:40},end:{line:54,column:87}},"32":{start:{line:55,column:8},end:{line:55,column:53}},"33":{start:{line:55,column:19},end:{line:55,column:53}},"34":{start:{line:56,column:8},end:{line:56,column:87}},"35":{start:{line:56,column:41},end:{line:56,column:87}},"36":{start:{line:58,column:23},end:{line:58,column:48}},"37":{start:{line:60,column:8},end:{line:60,column:71}},"38":{start:{line:65,column:8},end:{line:65,column:88}},"39":{start:{line:65,column:53},end:{line:65,column:88}},"40":{start:{line:66,column:8},end:{line:66,column:87}},"41":{start:{line:66,column:40},end:{line:66,column:87}},"42":{start:{line:68,column:8},end:{line:68,column:67}},"43":{start:{line:72,column:0},end:{line:72,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:14},end:{line:15,column:5}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:18},end:{line:14,column:19}},loc:{start:{line:14,column:25},end:{line:14,column:50}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:23},end:{line:32,column:5}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:23,column:18},end:{line:23,column:19}},loc:{start:{line:23,column:26},end:{line:31,column:13}},line:23},"4":{name:"(anonymous_4)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:25},end:{line:49,column:5}},line:34},"5":{name:"(anonymous_5)",decl:{start:{line:40,column:18},end:{line:40,column:19}},loc:{start:{line:40,column:26},end:{line:48,column:13}},line:40},"6":{name:"(anonymous_6)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:25},end:{line:61,column:5}},line:51},"7":{name:"(anonymous_7)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:19},end:{line:69,column:5}},line:63}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:10,column:86}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:86}},{start:{line:10,column:8},end:{line:10,column:86}}],line:10},"1":{loc:{start:{line:10,column:12},end:{line:10,column:47}},type:"binary-expr",locations:[{start:{line:10,column:12},end:{line:10,column:30}},{start:{line:10,column:34},end:{line:10,column:47}}],line:10},"2":{loc:{start:{line:11,column:8},end:{line:11,column:87}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:87}},{start:{line:11,column:8},end:{line:11,column:87}}],line:11},"3":{loc:{start:{line:19,column:8},end:{line:19,column:89}},type:"if",locations:[{start:{line:19,column:8},end:{line:19,column:89}},{start:{line:19,column:8},end:{line:19,column:89}}],line:19},"4":{loc:{start:{line:19,column:12},end:{line:19,column:49}},type:"binary-expr",locations:[{start:{line:19,column:12},end:{line:19,column:31}},{start:{line:19,column:35},end:{line:19,column:49}}],line:19},"5":{loc:{start:{line:20,column:8},end:{line:20,column:85}},type:"if",locations:[{start:{line:20,column:8},end:{line:20,column:85}},{start:{line:20,column:8},end:{line:20,column:85}}],line:20},"6":{loc:{start:{line:24,column:16},end:{line:24,column:38}},type:"if",locations:[{start:{line:24,column:16},end:{line:24,column:38}},{start:{line:24,column:16},end:{line:24,column:38}}],line:24},"7":{loc:{start:{line:36,column:8},end:{line:36,column:88}},type:"if",locations:[{start:{line:36,column:8},end:{line:36,column:88}},{start:{line:36,column:8},end:{line:36,column:88}}],line:36},"8":{loc:{start:{line:36,column:12},end:{line:36,column:51}},type:"binary-expr",locations:[{start:{line:36,column:12},end:{line:36,column:32}},{start:{line:36,column:36},end:{line:36,column:51}}],line:36},"9":{loc:{start:{line:37,column:8},end:{line:37,column:87}},type:"if",locations:[{start:{line:37,column:8},end:{line:37,column:87}},{start:{line:37,column:8},end:{line:37,column:87}}],line:37},"10":{loc:{start:{line:41,column:16},end:{line:41,column:38}},type:"if",locations:[{start:{line:41,column:16},end:{line:41,column:38}},{start:{line:41,column:16},end:{line:41,column:38}}],line:41},"11":{loc:{start:{line:53,column:8},end:{line:53,column:88}},type:"if",locations:[{start:{line:53,column:8},end:{line:53,column:88}},{start:{line:53,column:8},end:{line:53,column:88}}],line:53},"12":{loc:{start:{line:53,column:12},end:{line:53,column:51}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:32}},{start:{line:53,column:36},end:{line:53,column:51}}],line:53},"13":{loc:{start:{line:54,column:8},end:{line:54,column:87}},type:"if",locations:[{start:{line:54,column:8},end:{line:54,column:87}},{start:{line:54,column:8},end:{line:54,column:87}}],line:54},"14":{loc:{start:{line:55,column:8},end:{line:55,column:53}},type:"if",locations:[{start:{line:55,column:8},end:{line:55,column:53}},{start:{line:55,column:8},end:{line:55,column:53}}],line:55},"15":{loc:{start:{line:56,column:8},end:{line:56,column:87}},type:"if",locations:[{start:{line:56,column:8},end:{line:56,column:87}},{start:{line:56,column:8},end:{line:56,column:87}}],line:56},"16":{loc:{start:{line:65,column:8},end:{line:65,column:88}},type:"if",locations:[{start:{line:65,column:8},end:{line:65,column:88}},{start:{line:65,column:8},end:{line:65,column:88}}],line:65},"17":{loc:{start:{line:65,column:12},end:{line:65,column:51}},type:"binary-expr",locations:[{start:{line:65,column:12},end:{line:65,column:32}},{start:{line:65,column:36},end:{line:65,column:51}}],line:65},"18":{loc:{start:{line:66,column:8},end:{line:66,column:87}},type:"if",locations:[{start:{line:66,column:8},end:{line:66,column:87}},{start:{line:66,column:8},end:{line:66,column:87}}],line:66}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const{ObjectId}=(cov_1z9a2zs4az.s[0]++,require('mongodb'));const user=(cov_1z9a2zs4az.s[1]++,{collection:null,add(user){cov_1z9a2zs4az.f[0]++;cov_1z9a2zs4az.s[2]++;if((cov_1z9a2zs4az.b[1][0]++,user===undefined)||(cov_1z9a2zs4az.b[1][1]++,user===null)){cov_1z9a2zs4az.b[0][0]++;cov_1z9a2zs4az.s[3]++;throw Error('user should be defined');}else{cov_1z9a2zs4az.b[0][1]++;}cov_1z9a2zs4az.s[4]++;if(user.constructor!==Object){cov_1z9a2zs4az.b[2][0]++;cov_1z9a2zs4az.s[5]++;throw TypeError(`${user} should be an object`);}else{cov_1z9a2zs4az.b[2][1]++;}cov_1z9a2zs4az.s[6]++;return this.collection.insertOne(user).then(res=>{cov_1z9a2zs4az.f[1]++;cov_1z9a2zs4az.s[7]++;return res.insertedId.toString();});},findByEmail(email){cov_1z9a2zs4az.f[2]++;cov_1z9a2zs4az.s[8]++;if((cov_1z9a2zs4az.b[4][0]++,email===undefined)||(cov_1z9a2zs4az.b[4][1]++,email===null)){cov_1z9a2zs4az.b[3][0]++;cov_1z9a2zs4az.s[9]++;throw Error('email should be defined');}else{cov_1z9a2zs4az.b[3][1]++;}cov_1z9a2zs4az.s[10]++;if(typeof email!=='string'){cov_1z9a2zs4az.b[5][0]++;cov_1z9a2zs4az.s[11]++;throw TypeError(`${email} should be a string`);}else{cov_1z9a2zs4az.b[5][1]++;}cov_1z9a2zs4az.s[12]++;return this.collection.findOne({email:email}).then(user=>{cov_1z9a2zs4az.f[3]++;cov_1z9a2zs4az.s[13]++;if(!user){cov_1z9a2zs4az.b[6][0]++;cov_1z9a2zs4az.s[14]++;return null;}else{cov_1z9a2zs4az.b[6][1]++;}cov_1z9a2zs4az.s[15]++;user.id=user._id.toString();cov_1z9a2zs4az.s[16]++;delete user._id;cov_1z9a2zs4az.s[17]++;return user;});},findByUserId(userId){cov_1z9a2zs4az.f[4]++;cov_1z9a2zs4az.s[18]++;if((cov_1z9a2zs4az.b[8][0]++,userId===undefined)||(cov_1z9a2zs4az.b[8][1]++,userId===null)){cov_1z9a2zs4az.b[7][0]++;cov_1z9a2zs4az.s[19]++;throw Error('id should be defined');}else{cov_1z9a2zs4az.b[7][1]++;}cov_1z9a2zs4az.s[20]++;if(typeof userId!=='string'){cov_1z9a2zs4az.b[9][0]++;cov_1z9a2zs4az.s[21]++;throw TypeError(`${userId} should be a string`);}else{cov_1z9a2zs4az.b[9][1]++;}cov_1z9a2zs4az.s[22]++;return this.collection.findOne({_id:ObjectId(userId)}).then(user=>{cov_1z9a2zs4az.f[5]++;cov_1z9a2zs4az.s[23]++;if(!user){cov_1z9a2zs4az.b[10][0]++;cov_1z9a2zs4az.s[24]++;return null;}else{cov_1z9a2zs4az.b[10][1]++;}cov_1z9a2zs4az.s[25]++;user.id=user._id.toString();cov_1z9a2zs4az.s[26]++;delete user._id;cov_1z9a2zs4az.s[27]++;return user;});},update(userId,data){cov_1z9a2zs4az.f[6]++;cov_1z9a2zs4az.s[28]++;if((cov_1z9a2zs4az.b[12][0]++,userId===undefined)||(cov_1z9a2zs4az.b[12][1]++,userId===null)){cov_1z9a2zs4az.b[11][0]++;cov_1z9a2zs4az.s[29]++;throw Error('id should be defined');}else{cov_1z9a2zs4az.b[11][1]++;}cov_1z9a2zs4az.s[30]++;if(typeof userId!=='string'){cov_1z9a2zs4az.b[13][0]++;cov_1z9a2zs4az.s[31]++;throw TypeError(`${userId} should be a string`);}else{cov_1z9a2zs4az.b[13][1]++;}cov_1z9a2zs4az.s[32]++;if(!data){cov_1z9a2zs4az.b[14][0]++;cov_1z9a2zs4az.s[33]++;throw Error('data is not defined');}else{cov_1z9a2zs4az.b[14][1]++;}cov_1z9a2zs4az.s[34]++;if(data.constructor!==Object){cov_1z9a2zs4az.b[15][0]++;cov_1z9a2zs4az.s[35]++;throw TypeError(`${data} should be an object`);}else{cov_1z9a2zs4az.b[15][1]++;}const filter=(cov_1z9a2zs4az.s[36]++,{_id:ObjectId(userId)});cov_1z9a2zs4az.s[37]++;return this.collection.findOneAndUpdate(filter,{$set:data});},remove(userId){cov_1z9a2zs4az.f[7]++;cov_1z9a2zs4az.s[38]++;if((cov_1z9a2zs4az.b[17][0]++,userId===undefined)||(cov_1z9a2zs4az.b[17][1]++,userId===null)){cov_1z9a2zs4az.b[16][0]++;cov_1z9a2zs4az.s[39]++;throw Error('id should be defined');}else{cov_1z9a2zs4az.b[16][1]++;}cov_1z9a2zs4az.s[40]++;if(typeof userId!=='string'){cov_1z9a2zs4az.b[18][0]++;cov_1z9a2zs4az.s[41]++;throw TypeError(`${userId} should be a string`);}else{cov_1z9a2zs4az.b[18][1]++;}cov_1z9a2zs4az.s[42]++;return this.collection.deleteOne({_id:ObjectId(userId)});}});cov_1z9a2zs4az.s[43]++;module.exports=user;